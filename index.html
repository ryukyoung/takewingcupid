<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <title>Take Wing, CUPID!</title>

    <!-- 모바일 주소창/노치 대응 -->
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no, viewport-fit=cover"
    />

    <style>
      @font-face {
        font-family: "DOSMyunjo";
        src: url("/src/fonts/DOSMyunjo.ttf");
      }
      @font-face {
        font-family: "DOSPilgi";
        src: url("/src/fonts/DOSPilgi.ttf");
      }

      html,
      body {
        margin: 0;
        height: 100%;
        background: #000;
        overflow: hidden;
        -webkit-touch-callout: none;
        -webkit-user-select: none;
        user-select: none;
      }

      /* 게임 래퍼: 실제 보이는 높이에 맞춤 */
      #game {
        position: fixed;
        inset: 0;
        height: 100svh;
        height: 100dvh;
        height: calc(var(--vh, 1vh) * 100);
        display: flex;
        align-items: center;
        justify-content: center;
        padding-bottom: env(safe-area-inset-bottom);
        padding-top: env(safe-area-inset-top);
      }

      canvas {
        display: block;
        margin: 0 auto;
        max-width: 100vw;
        max-height: 100svh;
        max-height: 100dvh;
        max-height: calc(var(--vh, 1vh) * 100);
        image-rendering: pixelated;

        /* 롱프레스/제스처로 인한 pointercancel 방지 */
        touch-action: none;
        -webkit-touch-callout: none;
        -webkit-user-select: none;
        user-select: none;
        pointer-events: auto;
      }
    </style>

    <script>
      // 실제 보이는 높이 기준 --vh 설정 (주소창 변동 대응)
      function setVh() {
        const h = (window.visualViewport?.height || window.innerHeight) * 0.01;
        document.documentElement.style.setProperty("--vh", `${h}px`);
      }
      setVh();
      window.addEventListener("resize", setVh, { passive: true });
      window.addEventListener("orientationchange", setVh, { passive: true });
      window.visualViewport?.addEventListener("resize", setVh, {
        passive: true,
      });
    </script>
  </head>
  <body>
    <!-- Phaser가 붙을 래퍼 -->
    <div id="game"></div>

    <script type="module" src="/src/main.js"></script>
  </body>
</html>
